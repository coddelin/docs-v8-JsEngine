---
title: &apos;`Array.prototype.flat` –∏ `Array.prototype.flatMap`&apos;
author: &apos;Mathias Bynens ([@mathias](https://twitter.com/mathias))&apos;
avatars:
  - &apos;mathias-bynens&apos;
date: 2019-06-11
tags:
  - ECMAScript
  - ES2019
  - io19
description: &apos;Array.prototype.flat —Å–≤–æ–¥–∏—Ç –º–Ω–æ–≥–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ –≤ –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≥–ª—É–±–∏–Ω—ã. Array.prototype.flatMap —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é map, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º —Å–ª–µ–¥—É–µ—Ç flat.&apos;
tweet: &apos;1138457106380709891&apos;
---
## `Array.prototype.flat`

–ú–∞—Å—Å–∏–≤ –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏: –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤, –∫–æ—Ç–æ—Ä—ã–π, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, —Å–æ–¥–µ—Ä–∂–∏—Ç –¥—Ä—É–≥–æ–π –º–∞—Å—Å–∏–≤.

```js
const array = [1, [2, [3]]];
//            ^^^^^^^^^^^^^ –≤–Ω–µ—à–Ω–∏–π –º–∞—Å—Å–∏–≤
//                ^^^^^^^^  –≤–ª–æ–∂–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤
//                    ^^^   —Å–∞–º—ã–π –≥–ª—É–±–æ–∫–∏–π –º–∞—Å—Å–∏–≤
```

`Array#flat` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–Ω–æ–º–µ—Ä–Ω—É—é –≤–µ—Ä—Å–∏—é –º–Ω–æ–≥–æ–º–µ—Ä–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞.

```js
array.flat();
// ‚Üí [1, 2, [3]]

// ‚Ä¶—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:
array.flat(1);
// ‚Üí [1, 2, [3]]
```

–ì–ª—É–±–∏–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–≤–Ω–∞ `1`, –Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ª—é–±–æ–µ —á–∏—Å–ª–æ –¥–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ —Å–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –¥–æ —ç—Ç–æ–π –≥–ª—É–±–∏–Ω—ã. –ß—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Å–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ, –ø–æ–∫–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å `Infinity`.

```js
// –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —Å–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –¥–æ –ø–æ–ª–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤:
array.flat(Infinity);
// ‚Üí [1, 2, 3]
```

–ü–æ—á–µ–º—É —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `Array.prototype.flat`, –∞ –Ω–µ `Array.prototype.flatten`? [–ü—Ä–æ—á—Ç–∏—Ç–µ –Ω–∞—à —Ä–∞–∑–±–æ—Ä #SmooshGate, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å!](https://developers.google.com/web/updates/2018/03/smooshgate)

## `Array.prototype.flatMap`

–í–æ—Ç –µ—â—ë –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä. –£ –Ω–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è `duplicate`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–≤–∞–∂–¥—ã. –ï—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å `duplicate` –∫ –∫–∞–∂–¥–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é –º–∞—Å—Å–∏–≤–∞, –ø–æ–ª—É—á–∏—Ç—Å—è –≤–ª–æ–∂–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤.

```js
const duplicate = (x) => [x, x];

[2, 3, 4].map(duplicate);
// ‚Üí [[2, 2], [3, 3], [4, 4]]
```

–ó–∞—Ç–µ–º –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å `flat` –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞, —á—Ç–æ–±—ã —Å–≤–µ—Å—Ç–∏ –º–∞—Å—Å–∏–≤:

```js
[2, 3, 4].map(duplicate).flat(); // üêå
// ‚Üí [2, 2, 3, 3, 4, 4]
```

–ü–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω –æ—á–µ–Ω—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏, –¥–ª—è –Ω–µ–≥–æ —Ç–µ–ø–µ—Ä—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `flatMap`.

```js
[2, 3, 4].flatMap(duplicate); // üöÄ
// ‚Üí [2, 2, 3, 3, 4, 4]
```

`flatMap` –Ω–µ–º–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ, —á–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `map`, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º —Å–ª–µ–¥—É–µ—Ç `flat` –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏.

–ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç–µ—Å—å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `flatMap`? –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å [–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –ê–∫—Å–µ–ª—è –†–∞—É—à–º–∞–π–µ—Ä–∞](https://exploringjs.com/impatient-js/ch_arrays.html#flatmap-mapping-to-zero-or-more-values).

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `Array#{flat,flatMap}`

<feature-support chrome="69 /blog/v8-release-69#javascript-language-features"
                 firefox="62"
                 safari="12"
                 nodejs="11"
                 babel="yes https://github.com/zloirock/core-js#ecmascript-array"></feature-support>
