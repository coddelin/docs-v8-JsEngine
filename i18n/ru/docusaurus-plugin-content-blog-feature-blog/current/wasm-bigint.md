---
title: "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è WebAssembly —Å JavaScript BigInt"
author: "–ê–ª–æ–Ω –ó–∞–∫–∞–π"
avatars:
  - "alon-zakai"
date: 2020-11-12
tags:
  - WebAssembly
  - ECMAScript
description: "BigInt —É–ø—Ä–æ—â–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É 64-–±–∏—Ç–Ω—ã—Ö —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –º–µ–∂–¥—É JavaScript –∏ WebAssembly. –í —ç—Ç–æ–º –ø–æ—Å—Ç–µ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è, —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –∏ –ø–æ—á–µ–º—É —ç—Ç–æ –ø–æ–ª–µ–∑–Ω–æ, –≤–∫–ª—é—á–∞—è —É–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —É—Å–∫–æ—Ä–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –∏ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–±–æ—Ä–∫–∏."
tweet: "1331966281571037186"
---
–§—É–Ω–∫—Ü–∏—è [JS-BigInt-Integration](https://github.com/WebAssembly/JS-BigInt-integration) —É–ø—Ä–æ—â–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É 64-–±–∏—Ç–Ω—ã—Ö —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –º–µ–∂–¥—É JavaScript –∏ WebAssembly. –í —ç—Ç–æ–º –ø–æ—Å—Ç–µ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è, —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –∏ –ø–æ—á–µ–º—É —ç—Ç–æ –ø–æ–ª–µ–∑–Ω–æ, –≤–∫–ª—é—á–∞—è —É–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —É—Å–∫–æ—Ä–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –∏ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–±–æ—Ä–∫–∏.

<!--truncate-->
## 64-–±–∏—Ç–Ω—ã–µ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞

–ß–∏—Å–ª–∞ JavaScript –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –≤–∏–¥–µ doubles, —Ç–æ –µ—Å—Ç—å 64-–±–∏—Ç–Ω—ã—Ö —á–∏—Å–µ–ª —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π. –¢–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ª—é–±–æ–µ 32-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ —Å –ø–æ–ª–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é, –Ω–æ –Ω–µ –≤—Å–µ 64-–±–∏—Ç–Ω—ã–µ —á–∏—Å–ª–∞. WebAssembly, —Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 64-–±–∏—Ç–Ω—ã–µ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ —Ç–∏–ø–∞ `i64`. –ü—Ä–æ–±–ª–µ–º–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ –∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏: –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è Wasm –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç i64, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ VM –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –∏–∑ JavaScript, —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

```
TypeError: Wasm function signature contains illegal type
```

–ö–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç –æ—à–∏–±–∫–∞, `i64` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ª–µ–≥–∞–ª—å–Ω—ã–º —Ç–∏–ø–æ–º –¥–ª—è JavaScript.

–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –ª—É—á—à–∏–º —Ä–µ—à–µ–Ω–∏–µ–º —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –±—ã–ª–∞ ¬´–ª–µ–≥–∞–ª–∏–∑–∞—Ü–∏—è¬ª Wasm. –õ–µ–≥–∞–ª–∏–∑–∞—Ü–∏—è –æ–∑–Ω–∞—á–∞–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ Wasm –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Ç–∏–ø–æ–≤ –¥–ª—è JavaScript. –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —ç—Ç–æ —Å–¥–µ–ª–∞–ª–æ –¥–≤–∞ –¥–µ–π—Å—Ç–≤–∏—è:

1. –ó–∞–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ 64-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞ –Ω–∞ –¥–≤–∞ 32-–±–∏—Ç–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö –º–ª–∞–¥—à–∏–µ –∏ —Å—Ç–∞—Ä—à–∏–µ –±–∏—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.
2. –ó–∞–º–µ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è 64-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞ –Ω–∞ 32-–±–∏—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ –º–ª–∞–¥—à–∏–µ –±–∏—Ç—ã, –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ 32-–±–∏—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å–±–æ–∫—É –¥–ª—è —Å—Ç–∞—Ä—à–∏—Ö –±–∏—Ç–æ–≤.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —ç—Ç–æ—Ç –º–æ–¥—É–ª—å Wasm:

```wasm
(module
  (func $send_i64 (param $x i64)
    ..))
```

–õ–µ–≥–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ–≥–æ –≤ —ç—Ç–æ:

```wasm
(module
  (func $send_i64 (param $x_low i32) (param $x_high i32)
    (local $x i64) ;; —Ä–µ–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ—Å—Ç–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º
    ;; –∫–æ–¥ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è $x_low –∏ $x_high –≤ $x
    ..))
```

–õ–µ–≥–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∞ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç VM, –∫–æ—Ç–æ—Ä—ã–π –µ—ë –∑–∞–ø—É—Å–∫–∞–µ—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ [Binaryen](https://github.com/WebAssembly/binaryen) –∏–º–µ–µ—Ç –ø—Ä–æ—Ö–æ–¥ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º [LegalizeJSInterface](https://github.com/WebAssembly/binaryen/blob/fd7e53fe0ae99bd27179cb35d537e4ce5ec1fe11/src/passes/LegalizeJSInterface.cpp), –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç —ç—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ [Emscripten](https://emscripten.org/), –∫–æ–≥–¥–∞ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.

## –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –ª–µ–≥–∞–ª–∏–∑–∞—Ü–∏–∏

–õ–µ–≥–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –º–Ω–æ–≥–∏—Ö —Å–ª—É—á–∞—è—Ö, –Ω–æ –æ–Ω–∞ –∏–º–µ–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—é –∏–ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é 32-–±–∏—Ç–Ω—ã—Ö —á–∞—Å—Ç–µ–π –≤ 64-–±–∏—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è. –•–æ—Ç—è —ç—Ç–æ —Ä–µ–¥–∫–æ —Å–ª—É—á–∞–µ—Ç—Å—è –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º –ø—É—Ç–∏, –∫–æ–≥–¥–∞ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ—Ç–Ω—ã–º - –ø–æ–∑–∂–µ –º—ã —É–≤–∏–¥–∏–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ü–∏—Ñ—Ä—ã.

–ï—â–µ –æ–¥–Ω–∏–º –Ω–µ—É–¥–æ–±—Å—Ç–≤–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –ª–µ–≥–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–º–µ—Ç–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∞ –∏–∑–º–µ–Ω—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ–∂–¥—É JavaScript –∏ Wasm. –í–æ—Ç –ø—Ä–∏–º–µ—Ä:

```c
// example.c

#include <stdint.h>

extern void send_i64_to_js(int64_t);

int main() {
  send_i64_to_js(0xABCD12345678ULL);
}
```

```javascript
// example.js

mergeInto(LibraryManager.library, {
  send_i64_to_js: function(value) {
    console.log("JS –ø–æ–ª—É—á–µ–Ω–æ: 0x" + value.toString(16));
  }
});
```

–≠—Ç–æ –Ω–µ–±–æ–ª—å—à–æ–π C-–ø—Ä–æ–≥—Ä–∞–º–º–∞, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é [JavaScript-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏](https://emscripten.org/docs/porting/connecting_cpp_and_javascript/Interacting-with-code.html#implement-c-in-javascript) (—Ç–æ –µ—Å—Ç—å –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–Ω–µ—à–Ω—é—é —Ñ—É–Ω–∫—Ü–∏—é C –≤ C –∏ —Ä–µ–∞–ª–∏–∑—É–µ–º –µ—ë –≤ JavaScript –∫–∞–∫ –ø—Ä–æ—Å—Ç–æ–π –∏ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π —Å–ø–æ—Å–æ–± –≤—ã–∑–æ–≤–∞ –º–µ–∂–¥—É Wasm –∏ JavaScript). –í—Å—ë, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞, —ç—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `i64` –≤ JavaScript, –≥–¥–µ –º—ã –ø—ã—Ç–∞–µ–º—Å—è –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å –µ–≥–æ.

–ú—ã –º–æ–∂–µ–º —Å–æ–±—Ä–∞—Ç—å —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é

```
emcc example.c --js-library example.js -o out.js
```

–ö–æ–≥–¥–∞ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º –µ–≥–æ, –º—ã –Ω–µ –ø–æ–ª—É—á–∞–µ–º —Ç–æ, —á—Ç–æ –æ–∂–∏–¥–∞–ª–∏:

```
node out.js
JS –ø–æ–ª—É—á–µ–Ω–æ: 0x12345678
```

–ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ `0xABCD12345678`, –Ω–æ –ø–æ–ª—É—á–∏–ª–∏ —Ç–æ–ª—å–∫–æ `0x12345678` üòî. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–¥–µ—Å—å, —Ç–∞–∫ —ç—Ç–æ –ª–µ–≥–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —ç—Ç–æ—Ç `i64` –≤ –¥–≤–∞ `i32`, –∏ –Ω–∞—à –∫–æ–¥ –ø—Ä–æ—Å—Ç–æ –ø–æ–ª—É—á–∏–ª –º–ª–∞–¥—à–∏–µ 32 –±–∏—Ç–∞, –∏ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª –¥—Ä—É–≥–æ–π –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä. –ß—Ç–æ–±—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç–æ, –Ω–∞–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

```javascript
  // i64 —Ä–∞–∑–±–∏—Ç–æ –Ω–∞ –¥–≤–∞ 32-–±–∏—Ç–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, ‚Äú–º–ª–∞–¥—à–∏–π‚Äù –∏ ‚Äú—Å—Ç–∞—Ä—à–∏–π‚Äù.
  send_i64_to_js: function(low, high) {
    console.log("JS –ø–æ–ª—É—á–µ–Ω–æ: 0x" + high.toString(16) + low.toString(16));
  }
```

–ó–∞–ø—É—Å—Ç–∏–≤ —ç—Ç–æ —Å–µ–π—á–∞—Å, –º—ã –ø–æ–ª—É—á–∞–µ–º

```
JS –ø–æ–ª—É—á–µ–Ω–æ: 0xabcd12345678
```

–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, —Å –ª–µ–≥–∞–ª–∏–∑–∞—Ü–∏–µ–π –º–æ–∂–Ω–æ –∂–∏—Ç—å. –ù–æ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–≤–æ–ª—å–Ω–æ —Ä–∞–∑–¥—Ä–∞–∂–∞—é—â–∏–º!

## –†–µ—à–µ–Ω–∏–µ: BigInt –≤ JavaScript

JavaScript —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è [BigInt](/features/bigint), –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, —Ç–∞–∫ —á—Ç–æ –æ–Ω–∏ –º–æ–≥—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å 64-–±–∏—Ç–Ω—ã–µ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞. –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –∑–∞—Ö–æ—Ç–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è `i64` –∏–∑ Wasm. –ò–º–µ–Ω–Ω–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ JS-BigInt!

Emscripten –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é Wasm BigInt, –∫–æ—Ç–æ—Ä—É—é –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ (–±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –ª–µ–≥–∞–ª–∏–∑–∞—Ü–∏–∏), –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏–≤ `-s WASM_BIGINT`:

```
emcc example.c --js-library example.js -o out.js -s WASM_BIGINT
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å (–æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–∞–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å Node.js —Ñ–ª–∞–≥ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ BigInt):

```
node --experimental-wasm-bigint a.out.js
JS –ø–æ–ª—É—á–∏–ª: 0xabcd12345678
```

–û—Ç–ª–∏—á–Ω–æ, –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ –º—ã —Ö–æ—Ç–µ–ª–∏!

–ò —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ—â–µ, –Ω–æ –∏ –±—ã—Å—Ç—Ä–µ–µ. –ö–∞–∫ —É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å —Ä–∞–Ω–µ–µ, –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —Ä–µ–¥–∫–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è, —á—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è `i64` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∏ –≤ –≥–æ—Ä—è—á–µ–π –æ–±–ª–∞—Å—Ç–∏, –Ω–æ –µ—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, —Ç–æ –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ—Ç–Ω—ã–º. –ï—Å–ª–∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä –≤ —Ç–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –≤—ã–∑—ã–≤–∞—è `send_i64_to_js` –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑, –≤–µ—Ä—Å–∏—è —Å BigInt –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ 18% –±—ã—Å—Ç—Ä–µ–µ.

–ï—â–µ –æ–¥–Ω–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ BigInt –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –º–æ–∂–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ª–µ–≥–∞–ª–∏–∑–∞—Ü–∏–∏. –ï—Å–ª–∏ Emscripten –Ω–µ –Ω—É–∂–Ω–æ –ª–µ–≥–∞–ª–∏–∑–æ–≤–∞—Ç—å, —Ç–æ –µ–º—É –º–æ–∂–µ—Ç –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–∞–∫—É—é-–ª–∏–±–æ —Ä–∞–±–æ—Ç—É —Å Wasm, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–ª—É—á–∞–µ—Ç LLVM, —á—Ç–æ —É—Å–∫–æ—Ä—è–µ—Ç –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —É—Å–∫–æ—Ä–µ–Ω–∏–µ, –µ—Å–ª–∏ —Å–æ–±–µ—Ä–µ—Ç–µ —Å `-s WASM_BIGINT` –∏ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç–µ –Ω–∏–∫–∞–∫–∏—Ö –¥—Ä—É–≥–∏—Ö —Ñ–ª–∞–≥–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π. –ù–∞–ø—Ä–∏–º–µ—Ä, `-O0 -s WASM_BIGINT` —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–±–æ—Ä–∫–∏ [–∑–∞–ø—É—Å–∫–∞—é—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä Binaryen](https://emscripten.org/docs/optimizing/Optimizing-Code.html#link-times), —á—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è —Ä–∞–∑–º–µ—Ä–∞).

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è WebAssembly BigInt –±—ã–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ [–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö](https://webassembly.org/roadmap/), –≤–∫–ª—é—á–∞—è Chrome 85 (–≤—ã–ø—É—â–µ–Ω 25-08-2020), —Ç–∞–∫ —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —É–∂–µ —Å–µ–≥–æ–¥–Ω—è!
