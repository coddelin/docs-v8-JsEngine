---
title: 'Релиз V8 версии 5.4'
author: 'Команда V8'
date: 2016-09-09 13:33:37
tags:
  - релиз
description: 'V8 версии 5.4 включает улучшения производительности и сокращение потребления памяти.'
---
Каждые шесть недель мы создаем новую ветку V8 в рамках нашего [процесса релиза](/docs/release-process). Каждая версия создается из Git master-ветки V8 незадолго до выпуска Chrome Beta. Сегодня мы рады представить нашу новую ветку, [V8 версии 5.4](https://chromium.googlesource.com/v8/v8.git/+log/branch-heads/5.4), которая будет находиться в бета-версии до ее выхода вместе со стабильной версией Chrome 54 через несколько недель. V8 версии 5.4 наполнен всеми видами улучшений для разработчиков, поэтому мы хотели бы представить некоторые из главных аспектов, ожидая релиза.

<!--truncate-->
## Улучшения производительности

V8 версии 5.4 предоставляет ряд ключевых улучшений в потреблении памяти и скорости запуска. Эти улучшения в основном помогают ускорить выполнение скриптов и сократить время загрузки страниц в Chrome.

### Память

При измерении потребления памяти V8 важно учитывать два ключевых показателя: _Максимальное потребление памяти_ и _среднее потребление памяти_. Обычно сокращение максимального потребления столь же важно, как и сокращение среднего, поскольку выполняемый скрипт, исчерпывающий доступную память даже на короткое время, может вызвать сбой из-за _недостатка памяти_, даже если его среднее потребление памяти невелико. Для целей оптимизации полезно разделить память V8 на две категории: _Память в куче_, содержащая реальные JavaScript объекты, и _память вне кучи_, содержащая остальное, например внутренние структуры данных, выделенные компилятором, парсером и сборщиком мусора.

В версии 5.4 мы оптимизировали сборщик мусора V8 для устройств с ограниченной памятью, имеющих 512 МБ ОЗУ или меньше. В зависимости от отображаемого сайта это сокращает _максимальное потребление памяти_ в _куче_ до **40%**.

Управление памятью в JavaScript парсере V8 было упрощено для избегания ненужных выделений, что сократило использование _максимальной памяти вне кучи_ до **20%**. Эти сохранения особенно полезны при работе с большими файлами скриптов, включая приложения asm.js.

### Запуск и скорость

Наша работа по оптимизации парсера V8 не только помогла сократить потребление памяти, но и улучшила производительность работы парсера. Эти оптимизации, в сочетании с другими улучшениями встроенных функций JavaScript и глобальными [встроенными кешами](https://en.wikipedia.org/wiki/Inline_caching), значительно ускорили запуск.

Наш [внутренний набор тестов запуска](https://www.youtube.com/watch?v=xCx4uC7mn6Y), измеряющий реальную производительность JavaScript, улучшился на медианное значение в 5%. Бенчмарк [Speedometer](http://browserbench.org/Speedometer/) также выигрывает от этих оптимизаций, демонстрируя улучшение на [~10-13% по сравнению с версией 5.2](https://chromeperf.appspot.com/report?sid=f5414b72e864ffaa4fd4291fa74bf3fd7708118ba534187d36113d8af5772c86&start_rev=393766&end_rev=416239).

![](/_img/v8-release-54/speedometer.png)

## API V8

Пожалуйста, ознакомьтесь с нашим [обзором изменений API](https://docs.google.com/document/d/1g8JFi8T_oAE_7uAri7Njtig7fKaPDfotU6huOa1alds/edit). Этот документ регулярно обновляется через несколько недель после каждого основного релиза.

Разработчики с [активной копией V8](/docs/source-code#using-git) могут использовать команду `git checkout -b 5.4 -t branch-heads/5.4`, чтобы протестировать новые функции V8 версии 5.4. Также вы можете [подписаться на бета-канал Chrome](https://www.google.com/chrome/browser/beta.html) и вскоре попробовать новые функции самостоятельно.
