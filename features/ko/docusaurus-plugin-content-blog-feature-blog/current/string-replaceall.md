---
title: 'String.prototype.replaceAll'
author: 'Mathias Bynens ([@mathias](https://twitter.com/mathias))'
avatars:
  - 'mathias-bynens'
date: 2019-11-11
tags:
  - ECMAScript
  - ES2021
  - Node.js 16
description: 'JavaScriptëŠ” ì´ì œ ìƒˆë¡œìš´ `String.prototype.replaceAll` APIë¥¼ í†µí•´ ê¸€ë¡œë²Œ í•˜ìœ„ ë¬¸ìì—´ êµì²´ë¥¼ ìœ„í•œ ì¼ë¥˜ ì§€ì›ì„ ì œê³µí•©ë‹ˆë‹¤.'
tweet: '1193917549060280320'
---
JavaScriptì—ì„œ ë¬¸ìì—´ì„ ë‹¤ë¤„ë³¸ ì ì´ ìˆë‹¤ë©´, `String#replace` ë©”ì„œë“œì— ëŒ€í•´ ë“¤ì–´ë³¸ ì ì´ ìˆì„ ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤. `String.prototype.replace(searchValue, replacement)`ëŠ” ì§€ì •í•œ ë§¤ê°œë³€ìˆ˜ì— ë”°ë¼ ì¼ë¶€ ì¼ì¹˜ í•­ëª©ì´ êµì²´ëœ ë¬¸ìì—´ì„ ë°˜í™˜í•©ë‹ˆë‹¤:

<!--truncate-->
```js
'abc'.replace('b', '_');
// â†’ 'a_c'

'ğŸğŸ‹ğŸŠğŸ“'.replace('ğŸ', 'ğŸ¥­');
// â†’ 'ğŸ¥­ğŸ‹ğŸŠğŸ“'
```

ì¼ë°˜ì ì¸ ì‚¬ë¡€ëŠ” ì£¼ì–´ì§„ í•˜ìœ„ ë¬¸ìì—´ì˜ _ëª¨ë“ _ ì¸ìŠ¤í„´ìŠ¤ë¥¼ êµì²´í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ `String#replace`ëŠ” ì´ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì§ì ‘ ì²˜ë¦¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. `searchValue`ê°€ ë¬¸ìì—´ì¼ ë•Œ, í•˜ìœ„ ë¬¸ìì—´ì˜ ì²« ë²ˆì§¸ ë°œìƒë§Œ êµì²´ë©ë‹ˆë‹¤:

```js
'aabbcc'.replace('b', '_');
// â†’ 'aa_bcc'

'ğŸğŸğŸ‹ğŸ‹ğŸŠğŸŠğŸ“ğŸ“'.replace('ğŸ', 'ğŸ¥­');
// â†’ 'ğŸ¥­ğŸğŸ‹ğŸ‹ğŸŠğŸŠğŸ“ğŸ“'
```

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, ê°œë°œìëŠ” ê²€ìƒ‰ ë¬¸ìì—´ì„ ê¸€ë¡œë²Œ(`g`) í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ì •ê·œì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ `String#replace`ê°€ _ëª¨ë“ _ ì¼ì¹˜ë¥¼ êµì²´í•©ë‹ˆë‹¤:

```js
'aabbcc'.replace(/b/g, '_');
// â†’ 'aa__cc'

'ğŸğŸğŸ‹ğŸ‹ğŸŠğŸŠğŸ“ğŸ“'.replace(/ğŸ/g, 'ğŸ¥­');
// â†’ 'ğŸ¥­ğŸ¥­ğŸ‹ğŸ‹ğŸŠğŸŠğŸ“ğŸ“'
```

ê°œë°œì ì…ì¥ì—ì„œ ê¸€ë¡œë²Œ í•˜ìœ„ ë¬¸ìì—´ êµì²´ë§Œ ì›í•˜ëŠ” ê²½ìš° ë¬¸ìì—´ì„ ì •ê·œì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì´ ë²ˆê±°ë¡­ìŠµë‹ˆë‹¤. ë” ì¤‘ìš”í•œ ê²ƒì€, ì´ëŸ¬í•œ ë³€í™˜ì´ ì˜¤ë¥˜ë¥¼ ë°œìƒí•˜ê¸° ì‰¬ìš´ ì¼ë°˜ì ì¸ ë²„ê·¸ ì›ì¸ì´ë¼ëŠ” ì ì…ë‹ˆë‹¤! ë‹¤ìŒ ì˜ˆì œë¥¼ ê³ ë ¤í•´ ë³´ì„¸ìš”:

```js
const queryString = 'q=query+string+parameters';

queryString.replace('+', ' ');
// â†’ 'q=query string+parameters' âŒ
// ì²« ë²ˆì§¸ ë°œìƒë§Œ êµì²´ë©ë‹ˆë‹¤.

queryString.replace(/+/, ' ');
// â†’ SyntaxError: ì˜ëª»ëœ ì •ê·œì‹ âŒ
// ì•Œê³  ë³´ë‹ˆ, `+`ëŠ” ì •ê·œì‹ íŒ¨í„´ì—ì„œ íŠ¹ìˆ˜ ë¬¸ìì…ë‹ˆë‹¤.

queryString.replace(/\+/, ' ');
// â†’ 'q=query string+parameters' âŒ
// íŠ¹ìˆ˜ ì •ê·œì‹ ë¬¸ìë¥¼ ì´ìŠ¤ì¼€ì´í”„í•˜ë©´ ì •ê·œì‹ì€ ìœ íš¨í•˜ì§€ë§Œ,
// ì—¬ì „íˆ ë¬¸ìì—´ì—ì„œ `+`ì˜ ì²« ë²ˆì§¸ ë°œìƒë§Œ êµì²´í•©ë‹ˆë‹¤.

queryString.replace(/\+/g, ' ');
// â†’ 'q=query string parameters' âœ…
// íŠ¹ìˆ˜ ì •ê·œì‹ ë¬¸ìë¥¼ ì´ìŠ¤ì¼€ì´í”„í•˜ê³  `g` í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ í•´ê²°ë©ë‹ˆë‹¤.
```

ë¦¬í„°ëŸ´ ë¬¸ìì—´ `+`ë¥¼ ê¸€ë¡œë²Œ ì •ê·œì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì€ ë‹¨ìˆœíˆ `+` ë”°ì˜´í‘œë¥¼ ì œê±°í•˜ê³ , ì´ë¥¼ `/` ìŠ¬ë˜ì‹œë¡œ ê°ì‹¸ê³ , `g` í”Œë˜ê·¸ë¥¼ ì¶”ê°€í•˜ëŠ” ë¬¸ì œê°€ ì•„ë‹™ë‹ˆë‹¤ â€” ì •ê·œì‹ì—ì„œ íŠ¹ìˆ˜ ì˜ë¯¸ê°€ ìˆëŠ” ëª¨ë“  ë¬¸ìë¥¼ ì´ìŠ¤ì¼€ì´í”„í•´ì•¼ í•©ë‹ˆë‹¤. ì´ëŠ” ì‰½ê²Œ ìŠì–´ë²„ë¦´ ìˆ˜ ìˆìœ¼ë©°, ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤. JavaScriptëŠ” ì •ê·œì‹ íŒ¨í„´ì„ ì´ìŠ¤ì¼€ì´í”„í•  ìˆ˜ ìˆëŠ” ë‚´ì¥ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ëŒ€ì•ˆì ì¸ í•´ê²° ë°©ë²•ì€ `String#split`ì„ `Array#join`ê³¼ ê²°í•©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤:

```js
const queryString = 'q=query+string+parameters';
queryString.split('+').join(' ');
// â†’ 'q=query string parameters'
```

ì´ ì ‘ê·¼ ë°©ë²•ì€ ì´ìŠ¤ì¼€ì´í”„ë¥¼ í”¼í•  ìˆ˜ ìˆì§€ë§Œ ë¬¸ìì—´ì„ ë¶€ë¶„ ë°°ì—´ë¡œ ë‚˜ëˆˆ ë’¤ ë‹¤ì‹œ í•©ì¹˜ëŠ” ì˜¤ë²„í—¤ë“œê°€ ìƒê¹ë‹ˆë‹¤.

ë¶„ëª…íˆ, ì´ëŸ¬í•œ í•´ê²°ì±…ì€ ì´ìƒì ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. JavaScriptì—ì„œ ê¸€ë¡œë²Œ í•˜ìœ„ ë¬¸ìì—´ êµì²´ì™€ ê°™ì€ ê¸°ë³¸ ì‘ì—…ì´ ê°„ë‹¨í•˜ë©´ ì–¼ë§ˆë‚˜ ì¢‹ì„ê¹Œìš”?

## `String.prototype.replaceAll`

ìƒˆë¡œìš´ `String#replaceAll` ë©”ì„œë“œëŠ” ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³  ê¸€ë¡œë²Œ í•˜ìœ„ ë¬¸ìì—´ êµì²´ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ê°„ë‹¨í•œ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•©ë‹ˆë‹¤:

```js
'aabbcc'.replaceAll('b', '_');
// â†’ 'aa__cc'

'ğŸğŸğŸ‹ğŸ‹ğŸŠğŸŠğŸ“ğŸ“'.replaceAll('ğŸ', 'ğŸ¥­');
// â†’ 'ğŸ¥­ğŸ¥­ğŸ‹ğŸ‹ğŸŠğŸŠğŸ“ğŸ“'

const queryString = 'q=query+string+parameters';
queryString.replaceAll('+', ' ');
// â†’ 'q=query string parameters'
```

ì–¸ì–´ì—ì„œ ê¸°ì¡´ APIì™€ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´, `String.prototype.replaceAll(searchValue, replacement)`ì€ ë‘ ê°€ì§€ ì˜ˆì™¸ë¥¼ ì œì™¸í•˜ê³  `String.prototype.replace(searchValue, replacement)`ì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤:

1. `searchValue`ê°€ ë¬¸ìì—´ì¸ ê²½ìš°, `String#replace`ëŠ” í•˜ìœ„ ë¬¸ìì—´ì˜ ì²« ë²ˆì§¸ ë°œìƒë§Œ êµì²´í•˜ì§€ë§Œ, `String#replaceAll`ì€ _ëª¨ë“ _ ë°œìƒì„ êµì²´í•©ë‹ˆë‹¤.
1. `searchValue`ê°€ ê¸€ë¡œë²Œì´ ì•„ë‹Œ ì •ê·œì‹ì¸ ê²½ìš°, `String#replace`ëŠ” ë¬¸ìì—´ì— ëŒ€í•´ ì‘ë™í•˜ëŠ” ê²ƒê³¼ ìœ ì‚¬í•˜ê²Œ í•œ ë²ˆì˜ ì¼ì¹˜ë§Œ êµì²´í•©ë‹ˆë‹¤. `String#replaceAll`ì€ ì´ ê²½ìš° ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ë©°, ì´ëŠ” ì•„ë§ˆë„ ì‹¤ìˆ˜ì¼ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤: ì •ë§ë¡œ 'ëª¨ë‘ êµì²´'ë¥¼ ì›í•˜ë©´ ê¸€ë¡œë²Œ ì •ê·œì‹ì„ ì‚¬ìš©í•´ì•¼ í•˜ê³ , ë‹¨ì¼ ì¼ì¹˜ë¥¼ êµì²´í•˜ë ¤ë©´ `String#replace`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìƒˆë¡œìš´ ê¸°ëŠ¥ì˜ í•µì‹¬ ìš”ì†ŒëŠ” ì²« ë²ˆì§¸ í•­ëª©ì— ìˆìŠµë‹ˆë‹¤. `String.prototype.replaceAll`ì€ ì •ê·œì‹ ë˜ëŠ” ê¸°íƒ€ í•´ê²°ì±… ì—†ì´ JavaScriptì— ê¸€ë¡œë²Œ í•˜ìœ„ ë¬¸ìì—´ êµì²´ë¥¼ ìœ„í•œ ì¼ë¥˜ ì§€ì›ì„ ì œê³µí•©ë‹ˆë‹¤.

## íŠ¹ìˆ˜ êµì²´ íŒ¨í„´ì— ëŒ€í•œ ì£¼ì˜ ì‚¬í•­

ì£¼ì˜ì‚¬í•­: `replace`ì™€ `replaceAll` ë‘˜ ë‹¤ [íŠ¹ë³„í•œ ëŒ€ì²´ íŒ¨í„´](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_string_as_the_replacement)ì„ ì§€ì›í•©ë‹ˆë‹¤. ì´ê²ƒë“¤ì€ ì£¼ë¡œ ì •ê·œ í‘œí˜„ì‹ê³¼ ê²°í•©í•˜ì—¬ ê°€ì¥ ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë˜ì§€ë§Œ, ì¼ë¶€ íŒ¨í„´(`$$`, `$&`, ``$` ``, ê·¸ë¦¬ê³  `$&apos;`)ì€ ê°„ë‹¨í•œ ë¬¸ìì—´ ëŒ€ì²´ ìˆ˜í–‰ ì‹œì—ë„ íš¨ê³¼ë¥¼ ë°œíœ˜í•  ìˆ˜ ìˆì–´ ì˜ˆê¸°ì¹˜ ì•Šê²Œ ì‘ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```js
&apos;xyz&apos;.replaceAll(&apos;y&apos;, &apos;$$&apos;);
// â†’ &apos;x$z&apos; (not &apos;x$$z&apos;)
```

ëŒ€ì²´ ë¬¸ìì—´ì— ì´ëŸ¬í•œ íŒ¨í„´ ì¤‘ í•˜ë‚˜ê°€ í¬í•¨ë˜ì–´ ìˆê³ , ì´ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ magical substitution ë™ì‘ì„ í”¼í•˜ê¸° ìœ„í•´ ë¬¸ìì—´ì„ ë°˜í™˜í•˜ëŠ” replacer í•¨ìˆ˜ ì‚¬ìš©ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```js
&apos;xyz&apos;.replaceAll(&apos;y&apos;, () => &apos;$$&apos;);
// â†’ &apos;x$$z&apos;
```

## `String.prototype.replaceAll` ì§€ì›

<feature-support chrome="85 https://bugs.chromium.org/p/v8/issues/detail?id=9801"
                 firefox="77 https://bugzilla.mozilla.org/show_bug.cgi?id=1608168#c8"
                 safari="13.1 https://webkit.org/blog/10247/new-webkit-features-in-safari-13-1/"
                 nodejs="16"
                 babel="yes https://github.com/zloirock/core-js#ecmascript-string-and-regexp"></feature-support>
